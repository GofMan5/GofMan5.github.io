<script>
    // Логируем посещение страницы
    async function logPageVisit() {
        try {
            const formData = new FormData();
            formData.append('page', 'calculator_pm');

            const response = await fetch('log_visit.php', {
                method: 'POST',
                body: formData,
                credentials: 'same-origin'
            });

            if (!response.ok) {
                console.error('Ошибка при логировании посещения:', await response.text());
            }
        } catch (error) {
            console.error('Ошибка:', error);
        }
    }

    // Вызываем функцию при загрузке страницы
    document.addEventListener('DOMContentLoaded', logPageVisit);

    // Существующий код калькулятора...
</script> 